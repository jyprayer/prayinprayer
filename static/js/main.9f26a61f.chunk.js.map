{"version":3,"sources":["logo.svg","Home.js","OktaSignInWidget.js","Login.js","Protected.js","config.js","AppWithRouterAccess.js","App.js","reportWebVitals.js","index.js"],"names":["Home","history","useHistory","useOktaAuth","oktaAuth","authState","login","a","push","logout","signOut","button","isAuthenticated","onClick","to","OktaSignInWidget","config","onSuccess","onError","widgetRef","useRef","useEffect","current","widget","OktaSignIn","showSignInToGetTokens","el","then","catch","remove","ref","Login","pathname","tokens","handleLoginRedirect","err","console","log","Protected","oktaAuthConfig","issuer","clientId","redirectUri","window","location","origin","oktaSignInConfig","baseUrl","authParams","OktaAuth","AppWithRouterAccess","restoreOriginalUri","_oktaAuth","originalUri","replace","toRelativeUrl","onAuthRequired","path","exact","component","render","LoginCallback","App","className","src","logo","alt","href","target","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f26a61f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useOktaAuth } from '@okta/okta-react';\r\n\r\nconst Home = () => {\r\n  const history = useHistory();\r\n  const { oktaAuth, authState } = useOktaAuth();\r\n\r\n  if (!authState) return null;\r\n\r\n  const login = async () => history.push('/login');\r\n  \r\n  const logout = async () => oktaAuth.signOut();\r\n\r\n  const button = authState.isAuthenticated ? \r\n    <button onClick={logout}>Logout</button> :\r\n    <button onClick={login}>Login</button>;\r\n\r\n  return (\r\n    <div>\r\n      <Link to='/'>Home</Link><br/>\r\n      <Link to='/protected'>Protected</Link><br/>\r\n      {button}\r\n    </div>\r\n  );\r\n};\r\nexport default Home;","import React, { useEffect, useRef } from 'react';\r\nimport OktaSignIn from '@okta/okta-signin-widget';\r\nimport '@okta/okta-signin-widget/dist/css/okta-sign-in.min.css';\r\n\r\nconst OktaSignInWidget = ({ config, onSuccess, onError }) => {\r\n  const widgetRef = useRef();\r\n  useEffect(() => {\r\n    if (!widgetRef.current)\r\n      return false;\r\n    \r\n    const widget = new OktaSignIn(config);\r\n\r\n    widget.showSignInToGetTokens({\r\n      el: widgetRef.current,\r\n    }).then(onSuccess).catch(onError);\r\n\r\n    return () => widget.remove();\r\n  }, [config, onSuccess, onError]);\r\n\r\n  return (<div ref={widgetRef} />);\r\n};\r\nexport default OktaSignInWidget;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport OktaSignInWidget from './OktaSignInWidget';\r\nimport { useOktaAuth } from '@okta/okta-react';\r\n\r\nconst Login = ({ config }) => {\r\n  const { oktaAuth, authState } = useOktaAuth();\r\n\r\n  const onSuccess = (tokens) => {\r\n    oktaAuth.handleLoginRedirect(tokens);\r\n  };\r\n\r\n  const onError = (err) => {\r\n    console.log('error logging in', err);\r\n  };\r\n\r\n  if (!authState) return null;\r\n\r\n  return authState.isAuthenticated ?\r\n    <Redirect to={{ pathname: '/' }}/> :\r\n    <OktaSignInWidget\r\n      config={config}\r\n      onSuccess={onSuccess}\r\n      onError={onError}/>;\r\n};\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nconst Protected = () => <h3>Protected</h3>;\r\nexport default Protected;","const oktaAuthConfig = {\r\n  // Note: If your app is configured to use the Implicit flow\r\n  // instead of the Authorization Code with Proof of Code Key Exchange (PKCE)\r\n  // you will need to add `pkce: false`\r\n  issuer: 'https://{yourOktaDomain}/oauth2/default',\r\n  clientId: '{clientId}',\r\n  redirectUri: window.location.origin + '/login/callback',\r\n};\r\n\r\nconst oktaSignInConfig = {\r\n  baseUrl: 'https://{yourOktaDomain}',\r\n  clientId: '{clientId}',\r\n  redirectUri: window.location.origin + '/login/callback',\r\n  authParams: {\r\n    // If your app is configured to use the Implicit flow\r\n    // instead of the Authorization Code with Proof of Code Key Exchange (PKCE)\r\n    // you will need to uncomment the below line\r\n    // pkce: false\r\n  }\r\n  // Additional documentation on config options can be found at https://github.com/okta/okta-signin-widget#basic-config-options\r\n};\r\n\r\nexport { oktaAuthConfig, oktaSignInConfig };","import React from 'react';\r\nimport { Route, useHistory, Switch } from 'react-router-dom';\r\nimport { Security, SecureRoute, LoginCallback } from '@okta/okta-react';\r\nimport { OktaAuth, toRelativeUrl } from '@okta/okta-auth-js';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport Protected from './Protected';\r\nimport { oktaAuthConfig, oktaSignInConfig } from './config';\r\n\r\nconst oktaAuth = new OktaAuth(oktaAuthConfig);\r\n\r\nconst AppWithRouterAccess = () => {\r\n  const history = useHistory();\r\n\r\n  const customAuthHandler = () => {\r\n    history.push('/login');\r\n  };\r\n  \r\n  const restoreOriginalUri = async (_oktaAuth, originalUri) => {\r\n    history.replace(toRelativeUrl(originalUri, window.location.origin));\r\n  };\r\n\r\n  return (\r\n    <Security\r\n      oktaAuth={oktaAuth}\r\n      onAuthRequired={customAuthHandler}\r\n      restoreOriginalUri={restoreOriginalUri}\r\n    >\r\n      <Switch>\r\n        <Route path='/' exact={true} component={Home} />\r\n        <SecureRoute path='/protected' component={Protected} />\r\n        <Route path='/login' render={() => <Login config={oktaSignInConfig} />} />\r\n        <Route path='/login/callback' component={LoginCallback} />\r\n      </Switch>\r\n    </Security>\r\n  );\r\n};\r\nexport default AppWithRouterAccess;\r\n","import logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport AppWithRouterAccess from './AppWithRouterAccess';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Hi there\n          Edit oh my....finally...<code>src/App.js</code> and save to reload.\n        </p>\n        <Router>\n          <AppWithRouterAccess/>\n        </Router>\n\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}