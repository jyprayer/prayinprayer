{"version":3,"sources":["../../node_modules/ga-4-react/dist/ga-4-react.esm.js"],"names":["GA4ReactGlobalIndex","GA4React","gaCode","gaConfig","additionalGaCode","timeout","options","this","scriptSyncId","scriptAsyncId","nonceAsync","nonceSync","nonce","pageview","event","gtag","Promise","resolve","reject","isInitialized","Error","previousScriptAsync","document","getElementById","remove","head","getElementsByTagName","scriptAsync","createElement","setAttribute","length","onload","target","previousScriptSync","scriptSync","scriptHTML","JSON","stringify","forEach","code","innerHTML","appendChild","resolved","outputOnResolve","Object","assign","window","onerror","error","name","message","onChangeReadyState","readyState","removeEventListener","addEventListener","setTimeout","path","location","title","page_path","page_location","page_title","action","label","category","nonInteraction","event_label","event_category","non_interaction","arguments","console","outputGA4","children","setComponents","ga4","React","Children","map","child","index","isValidElement","type","cloneElement","Fragment","GA4R","_ref","config","additionalCode","components","getGA4React","initialize","then","err","useGA4React","gaAdditionalCode","gaTimeout","undefined","setGA4","withTracker","MyComponent","props"],"mappings":"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","file":"static/js/10.b5fae758.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nvar GA4ReactGlobalIndex = '__ga4React__';\n/**\r\n * @desc class required to manage google analitycs 4\r\n * @class GA4React\r\n *  */\n\nclass GA4React {\n  constructor(gaCode, gaConfig, additionalGaCode, timeout, options) {\n    this.gaCode = gaCode;\n    this.gaConfig = gaConfig;\n    this.additionalGaCode = additionalGaCode;\n    this.timeout = timeout;\n    this.options = options;\n    this.scriptSyncId = 'ga4ReactScriptSync';\n    this.scriptAsyncId = 'ga4ReactScriptAsync';\n    this.nonceAsync = '';\n    this.nonceSync = '';\n    this.gaConfig = gaConfig ? gaConfig : {};\n    this.gaCode = gaCode;\n    this.timeout = timeout || 5000;\n    this.additionalGaCode = additionalGaCode;\n    this.options = options;\n\n    if (this.options) {\n      var {\n        nonce\n      } = this.options;\n      this.nonceAsync = nonce && nonce[0] ? nonce[0] : '';\n      this.nonceSync = nonce && nonce[1] ? nonce[1] : '';\n    }\n  }\n  /**\r\n   * @desc output on resolve initialization\r\n   */\n\n\n  outputOnResolve() {\n    return {\n      pageview: this.pageview,\n      event: this.event,\n      gtag: this.gtag\n    };\n  }\n  /**\r\n   * @desc Return main function for send ga4 events, pageview etc\r\n   * @returns {Promise<GA4ReactResolveInterface>}\r\n   */\n\n\n  initialize() {\n    return new Promise((resolve, reject) => {\n      if (GA4React.isInitialized()) {\n        reject(new Error('GA4React is being initialized'));\n      } // in case of retry logics, remove previous scripts\n\n\n      var previousScriptAsync = document.getElementById(this.scriptAsyncId);\n\n      if (previousScriptAsync) {\n        previousScriptAsync.remove();\n      }\n\n      var head = document.getElementsByTagName('head')[0];\n      var scriptAsync = document.createElement('script');\n      scriptAsync.setAttribute('id', this.scriptAsyncId);\n      scriptAsync.setAttribute('async', '');\n\n      if (this.nonceAsync && typeof this.nonceAsync === 'string' && this.nonceAsync.length > 0) {\n        scriptAsync.setAttribute('nonce', this.nonceAsync);\n      }\n\n      scriptAsync.setAttribute('src', \"https://www.googletagmanager.com/gtag/js?id=\" + this.gaCode);\n\n      scriptAsync.onload = () => {\n        var target = document.getElementById(this.scriptSyncId);\n\n        if (target) {\n          target.remove();\n        } // in case of retry logics, remove previous script sync\n\n\n        var previousScriptSync = document.getElementById(this.scriptSyncId);\n\n        if (previousScriptSync) {\n          previousScriptSync.remove();\n        }\n\n        var scriptSync = document.createElement('script');\n        scriptSync.setAttribute('id', this.scriptSyncId);\n\n        if (this.nonceSync && typeof this.nonceSync === 'string' && this.nonceSync.length > 0) {\n          scriptSync.setAttribute('nonce', this.nonceSync);\n        }\n\n        var scriptHTML = \"window.dataLayer = window.dataLayer || [];\\n        function gtag(){dataLayer.push(arguments);};\\n        gtag('js', new Date());\\n        gtag('config', '\" + this.gaCode + \"', \" + JSON.stringify(this.gaConfig) + \");\";\n\n        if (this.additionalGaCode) {\n          this.additionalGaCode.forEach(code => {\n            scriptHTML += \"\\ngtag('config', '\" + code + \"', \" + JSON.stringify(this.gaConfig) + \");\";\n          });\n        }\n\n        scriptSync.innerHTML = scriptHTML;\n        head.appendChild(scriptSync);\n        var resolved = this.outputOnResolve();\n        Object.assign(window, {\n          [GA4ReactGlobalIndex]: resolved\n        });\n        resolve(resolved);\n      };\n\n      scriptAsync.onerror = event => {\n        if (typeof event === 'string') {\n          reject(\"GA4React intialization failed \" + event);\n        } else {\n          var error = new Error();\n          error.name = 'GA4React intialization failed';\n          error.message = JSON.stringify(event, ['message', 'arguments', 'type', 'name']);\n          reject(error);\n        }\n      };\n\n      var onChangeReadyState = () => {\n        switch (document.readyState) {\n          case 'interactive':\n          case 'complete':\n            if (!GA4React.isInitialized()) {\n              head.appendChild(scriptAsync);\n              document.removeEventListener('readystatechange', onChangeReadyState);\n            }\n\n            break;\n        }\n      };\n\n      if (document.readyState !== 'complete') {\n        document.addEventListener('readystatechange', onChangeReadyState);\n      } else {\n        onChangeReadyState();\n      }\n\n      setTimeout(() => {\n        reject(new Error('GA4React Timeout'));\n      }, this.timeout);\n    });\n  }\n  /**\r\n   * @desc send pageview event to gtag\r\n   * @param path\r\n   */\n\n\n  pageview(path, location, title) {\n    return this.gtag('event', 'page_view', {\n      page_path: path,\n      page_location: location || window.location,\n      page_title: title || document.title\n    });\n  }\n  /**\r\n   * @desc set event and send to gtag\r\n   * @param action\r\n   * @param label\r\n   * @param category\r\n   * @param nonInteraction\r\n   */\n\n\n  event(action, label, category, nonInteraction) {\n    if (nonInteraction === void 0) {\n      nonInteraction = false;\n    }\n\n    return this.gtag('event', action, {\n      event_label: label,\n      event_category: category,\n      non_interaction: nonInteraction\n    });\n  }\n  /**\r\n   * @desc direct access to gtag\r\n   * @param args\r\n   */\n\n\n  gtag() {\n    //@ts-ignore\n    return window.gtag(...arguments);\n  }\n  /**\r\n   * @desc ga is initialized?\r\n   */\n\n\n  static isInitialized() {\n    switch (typeof window[GA4ReactGlobalIndex] !== 'undefined') {\n      case true:\n        return true;\n\n      default:\n        return false;\n    }\n  }\n  /**\r\n   * @desc get ga4react from global\r\n   */\n\n\n  static getGA4React() {\n    if (GA4React.isInitialized()) {\n      return window[GA4ReactGlobalIndex];\n    } else {\n      console.error(new Error('GA4React is not initialized'));\n    }\n  }\n\n}\n\nvar outputGA4 = (children, setComponents, ga4) => {\n  setComponents(React.Children.map(children, (child, index) => {\n    if (!React.isValidElement(child)) {\n      return React.createElement(React.Fragment, null, child);\n    } //@ts-ignore\n\n\n    if (child.type && typeof child.type.name !== 'undefined') {\n      return React.cloneElement(child, {\n        //@ts-ignore\n        ga4: ga4,\n        index\n      });\n    } else {\n      return child;\n    }\n  }));\n};\n\nvar GA4R = (_ref) => {\n  var {\n    code,\n    timeout,\n    config,\n    additionalCode,\n    children,\n    options\n  } = _ref;\n  var [components, setComponents] = useState(null);\n  useEffect(() => {\n    if (!GA4React.isInitialized()) {\n      var ga4manager = new GA4React(\"\" + code, config, additionalCode, timeout, options);\n      ga4manager.initialize().then(ga4 => {\n        outputGA4(children, setComponents, ga4);\n      }, err => {\n        console.error(err);\n      });\n    } else {\n      var ga4 = GA4React.getGA4React();\n\n      if (ga4) {\n        outputGA4(children, setComponents, ga4);\n      }\n    }\n  }, []);\n  return React.createElement(React.Fragment, null, components);\n};\n\nvar useGA4React = (gaCode, gaConfig, gaAdditionalCode, gaTimeout, options) => {\n  var [ga4, setGA4] = useState(undefined);\n  useEffect(() => {\n    if (gaCode) {\n      switch (GA4React.isInitialized()) {\n        case false:\n          var ga4react = new GA4React(\"\" + gaCode, gaConfig, gaAdditionalCode, gaTimeout, options);\n          ga4react.initialize().then(ga4 => {\n            setGA4(ga4);\n          }, err => {\n            console.error(err);\n          });\n          break;\n\n        case true:\n          setGA4(GA4React.getGA4React());\n          break;\n      }\n    } else {\n      setGA4(GA4React.getGA4React());\n    }\n  }, [gaCode]);\n  return ga4;\n};\n\nfunction withTracker(MyComponent) {\n  return props => {\n    var {\n      path,\n      location,\n      title,\n      gaCode,\n      gaTimeout,\n      gaConfig,\n      gaAdditionalCode,\n      options\n    } = props;\n    useEffect(() => {\n      switch (GA4React.isInitialized()) {\n        case true:\n          var ga4 = GA4React.getGA4React();\n\n          if (ga4) {\n            ga4.pageview(path, location, title);\n          }\n\n          break;\n\n        default:\n        case false:\n          var ga4react = new GA4React(\"\" + gaCode, gaConfig, gaAdditionalCode, gaTimeout, options);\n          ga4react.initialize().then(ga4 => {\n            ga4.pageview(path, location, title);\n          }, err => {\n            console.error(err);\n          });\n          break;\n      }\n    });\n    return React.createElement(MyComponent, Object.assign({}, props));\n  };\n}\n\nexport default GA4React;\nexport { GA4R, GA4React, useGA4React, withTracker };\n//# sourceMappingURL=ga-4-react.esm.js.map\n"],"sourceRoot":""}